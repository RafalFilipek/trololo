// Generated by CoffeeScript 1.4.0

app.factory('gitlab', function($http, $rootScope) {
  var apiUrl;
  apiUrl = '/api/v1/';
  return {
    'get': function(path, params) {
      var key, paramsString, val;
      if (params == null) {
        params = {};
      }
      paramsString = ((function() {
        var _results;
        _results = [];
        for (key in params) {
          val = params[key];
          _results.push(key + '=' + val);
        }
        return _results;
      })()).join('&');
      return $http.get(apiUrl + path + '?' + paramsString).success(function(response) {
        return $rootScope.isLogged = response.authorized;
      });
    },
    'post': function(path, data) {
      return $http.post(apiUrl + path, data).success(function(response) {
        return $rootScope.isLogged = response.authorized;
      });
    }
  };
});
